#include <iostream>
#include <cstdlib>
#include <string.h>
using namespace std;

 struct osoba{
int id;
char imie[20];
char nazwisko[20];
int wiek;
};

void wypelnianie(int n,osoba *tab){
    int i;
    for (i=0; i<n; i++)
    {
     tab->id=i+1;
  cout<< "Podaj imie " << i+1 << endl;
     while(!(cin>>tab->imie)) {
  cout<< "Podaj imie " << i+1 << endl;
  cin >> tab->imie;
 }
     cout<< "Podaj nazwisko " << i+1 << endl;
     cin>>tab->nazwisko;

    cout<< "Podaj wiek " << i+1 << endl;
     while(!(cin>>tab->imie && tab->wiek < 101 )) {
    cout<< "Podany wiek jest nie poprawny wpisz jeszcze raz " << endl;
    cin>> tab->wiek;
 }
*tab++;
    }
return;}

void odczyt (int n,osoba *tab ){
  int i;
    for (i=0; i<n; i++)
        {
         cout.width( 20 ); cout<<"Id: " << tab->id;
         cout.width( 20 ); cout<<"Imie: " << tab->imie;
         cout.width( 20 ); cout<<"Nazwisko: " << tab->nazwisko;
         cout.width( 20 ); cout<<"Wiek: " << tab->wiek << endl;
*tab++;
        }
return;}

void szukanie(osoba *tab, int n){
    int i;
    int szukana;
    cout<<"Podaj ktory element chcesz wyszukac ";
    cin>> szukana;

cout << (&tab[0]+szukana-1)->nazwisko << endl;

return;
}

void sortowanie (osoba *TAB,int n){
    int i,j,a,b;  char x[20];
for (i=0;i<n;i++) {
//a=(&TAB[0])->nazwisko[0]; b=(&TAB[0]+1)->nazwisko[0];
 for (j=0;j<n-1;j++) {
a=(&TAB[0]+j)->nazwisko[0]; b=(&TAB[0]+1+j)->nazwisko[0];
    if ( a>b ) {
    strcpy (x,(&TAB[0]+1+j)->nazwisko);
    strcpy (  (&TAB[0]+1+j)->nazwisko, (&TAB[0]+j)->nazwisko );
    strcpy ((&TAB[0]+j)->nazwisko,x);
}
   }
 }
return;}




int main(){
    int n;
    cout << "Wprowadz N: "<<endl;
    cin >> n;

    osoba *tab = new osoba [n]  ;
    wypelnianie(n,tab);
    odczyt (n,tab);
    sortowanie (tab,n);
    szukanie(tab,n);

    delete tab;

    return 0;
}

